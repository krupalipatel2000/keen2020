@model KeenConveyance.Areas.Admin.Models.tblTransportCompany
@{
    ViewBag.Title = "CompanyProfile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<head>
    <style>
        * {
  box-sizing: border-box;
}

body {
  font-family: Arial;
  margin: 0 auto; /* Center website */
  max-width: 800px; /* Max width */
  padding: 20px;
}

.heading {
  font-size: 25px;
  margin-right: 25px;
}

.fa {
  font-size: 25px;
}

.checked {
  color: orange;
}

/* Three column layout */
.side {
  float: left;
  width: 15%;
  margin-top: 10px;
}

.middle {
  float: left;
  width: 70%;
  margin-top: 10px;
}

/* Place text to the right */
.right {
  text-align: right;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* The bar container */
.bar-container {
  width: 100%;
  background-color: #f1f1f1;
  text-align: center;
  color: white;
}

/* Individual bars */
.bar-5 {width: 60%; height: 18px; background-color: #4CAF50;}
.bar-4 {width: 30%; height: 18px; background-color: #2196F3;}
.bar-3 {width: 10%; height: 18px; background-color: #00bcd4;}
.bar-2 {width: 4%; height: 18px; background-color: #ff9800;}
.bar-1 {width: 15%; height: 18px; background-color: #f44336;}

/* Responsive layout - make the columns stack on top of each other instead of next to each other */
@@media (max-width: 400px) {
  .side, .middle {
    width: 100%;
  }
  /* Hide the right column on small screens */
  .right {
    display: none;
  }
}
    </style>
</head>

<div class="row">
    <div class="col-md-8">
        <div class="p-2">
            <div class="card shadow mb-4" style="width:700px;">
                <div class="card-header py-3">
                    <center><h4 class="m-0 font-weight-bold text-primary">Company Profile</h4></center>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4" style="text-align:center">
                            <p>
                                @Html.ActionLink("Edit Profile", "Edit", new { id = Model.CompanyId })
                            </p>
                            <img src="~/Images/@Html.DisplayFor(model => model.Logo)" class="img-thumbnail" onchange="return loadFile(event);" />
                            <br />
                            <div> <a href="#"> Change Profile Image </a> </div>
                            <br />
                            <p>
                                Member since <b> @Html.ViewBag.Year </b>
                            </p>
                        </div>
                        <div class="col-md-8">
                            <div class="row">
                                <h1 class="alert-light">@Html.DisplayFor(model => model.CompanyName)'s Profile</h1>
                            </div>
                            <div class="row">
                                <h4>@Html.DisplayFor(model => model.CompanyEmail)</h4>
                            </div>
                            <div class="row">
                                <h4>@Html.DisplayFor(model => model.CompanyPhNo)</h4>
                            </div>
                            <div class="row">
                                <h4>@Html.DisplayFor(model => model.ContactPersonName)</h4>
                            </div>
                            <div class="row">
                                <h4>@Html.DisplayFor(model => model.ContactPersonNo)</h4>
                            </div>
                            <div class="row">
                                <h4>@Html.DisplayFor(model => model.WebURL)</h4>
                            </div>
                            @if (Session["CompanyId"] != null)
                            {
                                <div class="row">
                                    @{
                                        if (Model.IsActive == true)
                                        {
                                            <a href="#"> Deactivate Account </a>
                                        }
                                    }
                                </div>
                                <div class="row">
                                    <br />
                                    <div style="margin-top:40px">
                                        <a href="@Url.Action("Login","Home")" class="btn btn-danger"> Signout </a>
                                        <a href="@Url.Action("ComList","ClientConsignment",new { id = Model.CompanyId})" class="btn btn-light"> Company Consignment </a>
                                        <a href="@Url.Action("AddService","ClientCompany")" class="btn btn-light"> Add Service </a>
                                    </div>
                                </div>
                                <div class="row">
                                    <br />
                                    <div class="alert-link" style="margin-top:40px">
                                        <a href="@Url.Action("ComAdd","ClientConsignment",new { id = Model.CompanyId })" class="btn btn-light"> Add Address </a>
                                        <a href="@Url.Action("AddDriver","ClientCompany")" class="btn btn-light"> Add Driver </a>
                                        <a href="@Url.Action("AddVehicle","ClientCompany")" class="btn btn-light"> Add Vehicle </a>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <center>
                        <h4 class="m-0 font-weight-bold text-primary"><a href="@Url.Action("Rate","ClientCompany",new { id = Model.CompanyId })">Give Rating</a></h4>
                    </center>
                </div>
            </div>
        </div>
    </div>
    @if (Session["CompanyId"] != null)
    {
        <div class="col-md-4 p-2">
            <div class="card shadow mb-4" style="width:200px;">
                <br />
                <h5 class="text offset-1" style="font-family:Cambria, Cochin, Georgia, Times, Times New Roman, serif">Your Bids : @ViewBag.Bids</h5>
                <br />
                <h5 class="text offset-1" style="font-family:Cambria, Cochin, Georgia, Times, Times New Roman, serif">
                    Accepted Bids :
                    @foreach (var item in ViewBag.Consignment)
                    {
                        <a href="@Url.Action("ViewAconsignment","ClientCompany",new { id = item.BidId })">@ViewBag.Abid</a>
                    }
                </h5>

            </div>
        </div>
    }
</div>


<script>
    var loadFile = function (event) {
        var output = document.getElementById('txtLogo');
        output.src = URL.createObjectURL(event.target.files[0]);
        output.hidden = false;
    };
</script>

<div class="row offset-5">
    <div class="card-deck">
        @foreach (var item in ViewBag.address)
        {
            <center>
                <div class="card shadow mb-4" style="width:250px;height:150px;">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-dark">
                            Company's Address
                        </h6>
                    </div>
                    <div class="card-body" style="height:100px;width:200px;">
                        <div class="row">
                            <center>
                                <h5 class="text" style="font-family:Cambria, Cochin, Georgia, Times, Times New Roman, serif">
                                    @item.HouseNo, @item.Landmark, @item.Area, @item.Address
                                </h5>
                            </center>
                        </div>
                    </div>
                </div>
            </center>
        }
    </div>
</div>
<br />

<div class="row offset-1">
    <form method="post">
        <div class="card-deck">
            @foreach (var item in ViewBag.bid)
            {
                <center>
                    <div class="card shadow mb-4" style="width:300px;height:200px;">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold text-dark">
                                Company's Bid
                            </h6>
                        </div>
                        <div class="card-body" style="height:100px;width:200px;">
                            <div class="row">
                                <h5 class="text" style="font-family:Cambria, Cochin, Georgia, Times, Times New Roman, serif">
                                    <a href="@Url.Action("ViewCon","ClientConsignment",new { id = item.ConsignmentId })"># @item.ConsignmentId <br /></a>
                                    BidAmount : @item.BidAmount <br />
                                    EstimatedDelivery : @item.EstimatedDelivery <br />
                                </h5>
                                <a href="@Url.Action("AddBid","ClientCompany", new { id = item.ConsignmentId , id1 = item.BidId })" class="btn btn-outline-primary">
                                    Accept
                                </a>
                                @*<input type="submit" value="Accept" class="btn btn-primary" onclick='alert("Your bid is accepted")'; />*@
                            </div>
                        </div>
                    </div>
                </center>
            }
        </div>
    </form>
</div>

<div class="row offset-1">
    <div class="card-deck">
        @foreach (var item in ViewBag.PriceList)
        {
            <center>
                <div class="card shadow mb-4" style="width:300px;">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-dark">
                            Company's PriceList
                        </h6>
                    </div>
                    <div class="card-body" style="height:100px;width:300px;">
                        <div class="row">
                            <h5 class="text" style="font-family:Cambria, Cochin, Georgia, Times, Times New Roman, serif">
                                Unit Name : @item.UnitName <br />
                                MinValue : @item.MinValue <br />
                                MaxValue : @item.MaxValue <br />
                                PricePerUnit : @item.PricePerUnit
                            </h5><br />
                        </div>
                    </div>
                </div>
            </center>
        }
    </div>
</div>

<link rel="stylesheet" href="~/clientcontent/css/rating.css" />
<div class="row offset-1">
    @foreach (var item in ViewBag.Rate)
    {
        <center>
            <div class="card shadow mb-4" style="width:300px;">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-dark">
                        Company's Review & Rating
                    </h6>
                </div>
                <div class="card-deck">
                    <div class="card-body" style="height:100px;width:300px;">
                        <h5 class="text" style="font-family:Cambria, Cochin, Georgia, Times, Times New Roman, serif">
                            @ViewBag.User
                            <br />
                            @item.Rate
                            <br />
                            @item.Review
                        </h5><br />
                    </div>
                </div>
            </div>
        </center>
    }
</div>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<span class="heading">User Rating</span>
<span class="fa fa-star checked"></span>
<span class="fa fa-star checked"></span>
<span class="fa fa-star checked"></span>
<span class="fa fa-star checked"></span>
<span class="fa fa-star"></span>
<p>4.1 average based on 254 reviews.</p>
<h5 style="border:3px solid #f1f1f1">

    <div class="row">
        <div class="side">
            <div>5 star</div>
        </div>
        <div class="middle">
            <div class="bar-container">
                <div class="bar-5"></div>
            </div>
        </div>
        <div class="side right">
            <div>150</div>
        </div>
        <div class="side">
            <div>4 star</div>
        </div>
        <div class="middle">
            <div class="bar-container">
                <div class="bar-4"></div>
            </div>
        </div>
        <div class="side right">
            <div>63</div>
        </div>
        <div class="side">
            <div>3 star</div>
        </div>
        <div class="middle">
            <div class="bar-container">
                <div class="bar-3"></div>
            </div>
        </div>
        <div class="side right">
            <div>15</div>
        </div>
        <div class="side">
            <div>2 star</div>
        </div>
        <div class="middle">
            <div class="bar-container">
                <div class="bar-2"></div>
            </div>
        </div>
        <div class="side right">
            <div>6</div>
        </div>
        <div class="side">
            <div>1 star</div>
        </div>
        <div class="middle">
            <div class="bar-container">
                <div class="bar-1"></div>
            </div>
        </div>
        <div class="side right">
            <div>20</div>
        </div>
    </div>

</h5>